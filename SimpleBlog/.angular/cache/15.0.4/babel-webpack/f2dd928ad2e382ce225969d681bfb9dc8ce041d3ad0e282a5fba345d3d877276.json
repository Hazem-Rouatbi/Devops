{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/article.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../navbar/navbar.component\";\nconst _c0 = function (a0, a1) {\n  return {\n    \"bg-com\": a0,\n    \"bg-gui\": a1\n  };\n};\nconst _c1 = function (a0, a1) {\n  return {\n    \"act\": a0,\n    \"select\": a1\n  };\n};\nexport class CreateArticleComponent {\n  constructor(artserv, router, route) {\n    this.artserv = artserv;\n    this.router = router;\n    this.route = route;\n    this.title = \"\";\n    this.text = \"\";\n    this.type = \"\";\n    this.comActive = false;\n    this.articActive = true;\n    if (this.route.snapshot.paramMap.get('id')) {\n      this.id = Number(this.route.snapshot.paramMap.get('id'));\n      this.artserv.getArticle(this.id).subscribe(art => {\n        this.imagename = art.image;\n        this.type = art.type;\n        this.title = art.title;\n        this.text = art.text;\n      });\n    }\n  }\n  submit() {\n    this.setType();\n    if (this.id) {\n      this.article = {\n        idArticle: this.id,\n        title: this.title,\n        text: this.text,\n        type: this.type\n      };\n    } else {\n      this.article = {\n        type: this.type,\n        title: this.title,\n        text: this.text\n      };\n    }\n    if (this.article.idArticle) {}\n    let fd = new FormData();\n    fd.append('image', this.image);\n    fd.append('article', JSON.stringify(this.article));\n    console.log(this.article);\n    this.add(fd);\n  }\n  onFileChange(event) {\n    this.image = event.files[0];\n  }\n  changeselection() {\n    this.comActive = !this.comActive;\n    this.articActive = !this.articActive;\n  }\n  setType() {\n    this.type = this.comActive ? \"COM\" : \"GUI\";\n  }\n  add(fd) {\n    if (!this.article.title || !this.article.text || !this.article.type) {\n      alert(\"be sure to fill all the spaces please\");\n      return;\n    }\n    this.artserv.addArticle(fd).subscribe(art => this.router.navigate([`/Articles`, art.idArticle]));\n  }\n  ngOnInit() {\n    console.log(this.type);\n    if (this.type == \"GUI\") this.changeselection();\n  }\n}\nCreateArticleComponent.ɵfac = function CreateArticleComponent_Factory(t) {\n  return new (t || CreateArticleComponent)(i0.ɵɵdirectiveInject(i1.ArticleService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nCreateArticleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CreateArticleComponent,\n  selectors: [[\"app-create-article\"]],\n  decls: 36,\n  vars: 14,\n  consts: [[1, \"hei\"], [1, \"pos\", \"textfont\", \"container\", \"justify-content-center\", \"align-items-center\", \"h-100\", 3, \"ngSubmit\"], [1, \"mt-3\", \"mb-3\", \"p-4\", 3, \"ngClass\"], [1, \"row\"], [1, \"col\"], [\"type\", \"button\", 1, \"w-100\", \"border-0\", \"zpad\", 3, \"ngClass\", \"click\"], [\"for\", \"title\", 1, \"pt-2\", \"pb-2\"], [\"type\", \"text\", \"name\", \"articleTitle\", \"id\", \"title\", \"required\", \"\", \"autofocus\", \"\", 1, \"p-1\", \"border-0\", \"rounded-2\", \"textspace\", 3, \"ngModel\", \"ngModelChange\"], [1, \"row\", \"pt-3\", \"pb-3\"], [\"name\", \"articlebody\", \"id\", \"text\", \"cols\", \"30\", \"rows\", \"30\", \"required\", \"\", 1, \"p-1\", \"border-0\", \"rounded-1\", \"textspace\", 3, \"ngModel\", \"ngModelChange\"], [1, \"row\", \"pt-4\", \"pb-3\"], [\"for\", \"image\"], [\"name\", \"image\", \"type\", \"file\", \"accept\", \"image/*\", \"required\", \"\", 3, \"change\"], [\"imageinput\", \"\"], [1, \"text-center\"], [\"type\", \"submit\", 1, \"p-1\", \"cust-btn\", \"rounded-3\", \"border-0\"]],\n  template: function CreateArticleComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"app-navbar\");\n      i0.ɵɵelementStart(2, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function CreateArticleComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\")(5, \"h4\");\n      i0.ɵɵtext(6, \"Type of article : \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 3)(8, \"div\", 4)(9, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function CreateArticleComponent_Template_button_click_9_listener() {\n        return ctx.changeselection();\n      });\n      i0.ɵɵelementStart(10, \"h5\");\n      i0.ɵɵtext(11, \"guide article\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(12, \"div\", 4)(13, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function CreateArticleComponent_Template_button_click_13_listener() {\n        return ctx.changeselection();\n      });\n      i0.ɵɵelementStart(14, \"h5\");\n      i0.ɵɵtext(15, \"communication article\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(16, \"div\", 3)(17, \"label\", 6)(18, \"h4\");\n      i0.ɵɵtext(19, \" Write a title for your article : \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function CreateArticleComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.title = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 8);\n      i0.ɵɵelement(22, \"span\");\n      i0.ɵɵelementStart(23, \"label\", 6)(24, \"h4\");\n      i0.ɵɵtext(25, \" Write your article : \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"textarea\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function CreateArticleComponent_Template_textarea_ngModelChange_26_listener($event) {\n        return ctx.text = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"div\", 10)(28, \"label\", 11)(29, \"h4\");\n      i0.ɵɵtext(30, \" Choose an image for your Article\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"input\", 12, 13);\n      i0.ɵɵlistener(\"change\", function CreateArticleComponent_Template_input_change_31_listener() {\n        i0.ɵɵrestoreView(_r1);\n        const _r0 = i0.ɵɵreference(32);\n        return i0.ɵɵresetView(ctx.onFileChange(_r0));\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(33, \"div\", 14)(34, \"button\", 15);\n      i0.ɵɵtext(35, \"Create Article\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(5, _c0, ctx.comActive, ctx.articActive));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(8, _c1, ctx.articActive, !ctx.articActive));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(11, _c1, ctx.comActive, !ctx.comActive));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.title);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.text);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm, i4.NgClass, i5.NavbarComponent],\n  styles: [\".bg-gui[_ngcontent-%COMP%]{background-size:cover;height:100%;background:rgba(254,77,61,.1)}.bg-com[_ngcontent-%COMP%]{height:100%;background-size:cover;background:rgba(128,255,212,.1)}.pos[_ngcontent-%COMP%]{right:2vw;top:7vh;left:2vw;bottom:2vh}.cust-btn[_ngcontent-%COMP%]{background:linear-gradient(to bottom,rgba(168,168,168,.29),rgba(255,255,255,.1));width:20em;position:relative;font-size:larger;transition-delay:20ms;transition:all;transition-duration:.2s}.cust-btn[_ngcontent-%COMP%]:hover{transition-delay:20ms;transition:all;transform:scale(1.1);transition-duration:.2s;background:linear-gradient(to bottom,rgba(168,168,168,.2),rgba(255,255,255,.5));box-shadow:-2px 3px 40px -10px #000000b0;-webkit-box-shadow:-2px 3px 40px -10px rgba(0,0,0,.69);-moz-box-shadow:-2px 3px 40px -10px rgba(0,0,0,.69)}.bgop[_ngcontent-%COMP%]{background:rgba(128,255,212,0)}.hei[_ngcontent-%COMP%]{height:100}.select[_ngcontent-%COMP%]{background:rgba(255,255,255,.2);color:#696969}.act[_ngcontent-%COMP%]:hover{background:rgba(50,50,50,.5)}.select[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.7)}.act[_ngcontent-%COMP%]{background:rgba(26,25,25,.6);color:#f0f8ff;transition:all;transition-duration:.2s;transform:scale(1.1)}.zpad[_ngcontent-%COMP%]{padding:0}.textspace[_ngcontent-%COMP%]:focus{box-shadow:-2px 3px 40px -10px #000000b0;-webkit-box-shadow:-2px 3px 40px -10px rgba(0,0,0,.69);-moz-box-shadow:-2px 3px 40px -10px rgba(0,0,0,.69)}.textfont[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}